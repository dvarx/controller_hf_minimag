Version 4
SHEET 1 2212 680
WIRE 1936 -416 1936 -464
WIRE 1968 -416 1936 -416
WIRE 2128 -400 2032 -400
WIRE -464 -384 -528 -384
WIRE -160 -384 -384 -384
WIRE -96 -384 -160 -384
WIRE 176 -384 -96 -384
WIRE 672 -384 176 -384
WIRE 1360 -384 1280 -384
WIRE 1488 -384 1456 -384
WIRE 1632 -384 1488 -384
WIRE 1744 -384 1632 -384
WIRE 1968 -384 1808 -384
WIRE 176 -336 176 -384
WIRE 288 -336 176 -336
WIRE 672 -336 672 -384
WIRE 768 -336 672 -336
WIRE 1936 -320 1936 -416
WIRE 1968 -320 1936 -320
WIRE 2128 -304 2032 -304
WIRE 1488 -288 1488 -384
WIRE 1552 -288 1488 -288
WIRE 1680 -288 1616 -288
WIRE 1744 -288 1680 -288
WIRE 1968 -288 1808 -288
WIRE -160 -240 -160 -384
WIRE 176 -240 176 -256
WIRE 288 -240 288 -272
WIRE 288 -240 176 -240
WIRE 672 -240 672 -256
WIRE 768 -240 768 -272
WIRE 768 -240 672 -240
WIRE 1552 -240 1552 -272
WIRE -528 -224 -528 -384
WIRE -96 -224 -96 -384
WIRE 672 -224 672 -240
WIRE 912 -224 672 -224
WIRE 960 -224 912 -224
WIRE 1056 -224 1024 -224
WIRE 1936 -224 1936 -320
WIRE 1968 -224 1936 -224
WIRE 2128 -208 2032 -208
WIRE 1680 -192 1680 -288
WIRE 1744 -192 1680 -192
WIRE 1968 -192 1808 -192
WIRE 176 -144 176 -240
WIRE 912 -144 176 -144
WIRE 1056 -144 912 -144
WIRE 176 -128 176 -144
WIRE 272 -128 176 -128
WIRE 672 -128 672 -224
WIRE 784 -128 672 -128
WIRE 1936 -128 1936 -224
WIRE 1968 -128 1936 -128
WIRE 2128 -112 2032 -112
WIRE 1632 -96 1632 -384
WIRE 1744 -96 1632 -96
WIRE 1968 -96 1808 -96
WIRE 176 -32 176 -48
WIRE 272 -32 272 -64
WIRE 272 -32 176 -32
WIRE 672 -32 672 -48
WIRE 784 -32 784 -64
WIRE 784 -32 672 -32
WIRE -528 0 -528 -144
WIRE -160 0 -160 -160
WIRE -160 0 -528 0
WIRE -96 0 -96 -160
WIRE -96 0 -160 0
WIRE 0 0 -96 0
WIRE 176 0 176 -32
WIRE 176 0 0 0
WIRE 672 0 672 -32
WIRE 672 0 176 0
WIRE 0 32 0 0
FLAG 1552 -240 0
FLAG 0 32 0
FLAG 128 -272 0
FLAG 128 -64 0
FLAG 624 -272 0
FLAG 624 -64 0
FLAG 128 -320 lega
FLAG 1280 48 0
FLAG 1280 -32 sig_psu
FLAG -400 -432 0
FLAG -448 -432 sig_psu
FLAG 1392 -32 sig_soft_sd
FLAG 1392 48 0
FLAG 128 -112 ¬lega
FLAG 624 -320 legb
FLAG 624 -112 ¬legb
FLAG 1936 -464 ¬sig_hard_sd
FLAG 1504 48 0
FLAG 1504 -32 ¬sig_hard_sd
FLAG 2128 -400 lega
FLAG 2128 -304 ¬lega
FLAG 2128 -208 legb
FLAG 2128 -112 ¬legb
FLAG -528 -384 VDC
FLAG 912 -144 vn
FLAG 1280 -304 0
FLAG 1024 -480 0
FLAG 1024 -560 meas_vac
FLAG 912 -224 vp
FLAG 1056 -224 vres
FLAG 1312 -496 0
FLAG 1312 -576 meas_vres
SYMBOL LTspiceControlLibrary\\PulseModulations\\PWM 1376 -352 R0
SYMATTR InstName U1
SYMATTR Value Vin1=0 Vin2=1 Tperiod={Tpwm}
SYMBOL Digital\\inv 1552 -352 R0
SYMATTR InstName A1
SYMBOL LTspiceControlLibrary\\PulseModulations\\OnOffDelay 1760 -352 R0
SYMATTR Value Ton=1u Toff=0
SYMATTR InstName U2
SYMBOL LTspiceControlLibrary\\PulseModulations\\OnOffDelay 1760 -256 R0
SYMATTR Value Ton=1u Toff=0
SYMATTR InstName U3
SYMBOL sw 176 -240 M180
WINDOW 3 -118 88 VLeft 2
SYMATTR Value mysw
SYMATTR InstName S1
SYMBOL sw 176 -32 M180
WINDOW 3 -82 56 VLeft 2
SYMATTR Value mysw
SYMATTR InstName S2
SYMBOL sw 672 -240 M180
WINDOW 3 -113 90 VLeft 2
SYMATTR Value mysw
SYMATTR InstName S3
SYMBOL sw 672 -32 M180
WINDOW 3 -89 62 VLeft 2
SYMATTR Value mysw
SYMATTR InstName S4
SYMBOL voltage -528 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 10
SYMBOL ind 1040 -240 R0
SYMATTR InstName L1
SYMATTR Value 2e-3
SYMATTR SpiceLine Rser=1
SYMBOL diode 304 -272 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -23 -80 VRight 2
SYMATTR InstName D1
SYMATTR Value RF2001NS2D
SYMBOL diode 784 -272 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -19 -35 VRight 2
SYMATTR InstName D2
SYMATTR Value RF2001NS2D
SYMBOL diode 288 -64 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -19 -70 VRight 2
SYMATTR InstName D3
SYMATTR Value RF2001NS2D
SYMBOL diode 800 -64 R180
WINDOW 0 24 64 Left 2
WINDOW 3 -17 -83 VRight 2
SYMATTR InstName D4
SYMATTR Value RF2001NS2D
SYMBOL cap -112 -224 R0
SYMATTR InstName C1
SYMATTR Value 1e-3
SYMBOL bv 1280 -48 R0
SYMATTR InstName B1
SYMATTR Value V=1
SYMBOL res -176 -256 R0
SYMATTR InstName R1
SYMATTR Value 33k
SYMBOL sw -368 -384 R90
SYMATTR InstName S5
SYMATTR Value mysw
SYMBOL bv 1392 -48 R0
SYMATTR InstName B2
SYMATTR Value V=1
SYMBOL LTspiceControlLibrary\\PulseModulations\\OnOffDelay 1760 -160 R0
SYMATTR Value Ton=1u Toff=0
SYMATTR InstName U4
SYMBOL LTspiceControlLibrary\\PulseModulations\\OnOffDelay 1760 -64 R0
SYMATTR Value Ton=1u Toff=0
SYMATTR InstName U5
SYMBOL Digital\\and 2000 -448 R0
SYMATTR InstName A2
SYMBOL Digital\\and 2000 -352 R0
SYMATTR InstName A3
SYMBOL Digital\\and 2000 -256 R0
SYMATTR InstName A4
SYMBOL Digital\\and 2000 -160 R0
SYMATTR InstName A5
SYMBOL bv 1504 -48 R0
SYMATTR InstName B3
SYMATTR Value V=time<15e-3
SYMBOL cap 1024 -240 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL voltage 1280 -400 R0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value 0.5
SYMBOL bv 1024 -576 R0
SYMATTR InstName B4
SYMATTR Value V=V(vp)-V(vn)
SYMBOL bv 1312 -592 R0
SYMATTR InstName B5
SYMATTR Value V=V(vp)-V(vres)
TEXT 0 -536 Left 2 !.tran 0 20e-3 0 1e-6
TEXT 0 -504 Left 2 !.model mysw SW(Ron=20e-3,Roff=1e6,Vt=0.5,Vh=-0.4)
TEXT 0 -464 Left 2 !.ic I(L1)=0 V(C1)=10
TEXT 1216 -152 VRight 2 ;psu_switch control
TEXT 0 -424 Left 2 !.step param Tpwm list 70u 75u 85u 90u
